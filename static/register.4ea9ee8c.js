import{$ as U,a as F,E as I}from"./el-button.f96464de.js";import{C as E,a as R,_ as q,b as $,E as j}from"./index.70366381.js";import{_ as L}from"./client-only.a0cdf32e.js";import{d as z,r as w,bw as B,b as v,v as K,l as a,j as n,h as N,m as t,V as s,s as S,A as _,C as H,Z as y,a0 as M}from"./entry.9187c7f5.js";import{u as A}from"./user.76fb50cc.js";import{t as u}from"./throttle.31f373af.js";const J={class:"w-full h-screen flex items-center justify-center bg-black"},O={class:"flex-1 flex items-center justify-center overflow-auto relative z-[9999]"},Y={class:"px-8 py-2 h-full rounded-lg border"},Z={class:"w-full h-full flex flex-col items-center justify-center Regular"},G=t("div",{class:"w-full flex flex-col z-[999]"},[t("div",{class:"text-[48px] font-bold text-[#EDEDED] uppercase"},"Let's get start "),t("div",{class:"text-lg font-light text-[#EDEDED] uppercase"},"Register your account")],-1),Q={class:"w-full"},W=t("div",{class:"flex items-center space-x-2"},[t("span",{class:"iconfont icon-email text-[#EDEDED] text-xl"}),t("span",{class:"w-[2px] h-[18px] bg-[#2E2E2E]"})],-1),X=t("div",{class:"flex items-center space-x-2"},[t("span",{class:"iconfont icon-email text-[#EDEDED] text-xl"}),t("span",{class:"w-[2px] h-[18px] bg-[#2E2E2E]"})],-1),ee=t("div",{class:"flex items-center space-x-2"},[t("span",{class:"iconfont icon-email text-[#EDEDED] text-xl"}),t("span",{class:"w-[2px] h-[18px] bg-[#2E2E2E]"})],-1),te=t("div",{class:"flex items-center space-x-2"},[t("span",{class:"iconfont icon-cfmpassword text-[#EDEDED] text-xl"}),t("span",{class:"w-[2px] h-[18px] bg-[#2E2E2E]"})],-1),se=t("div",{class:"flex items-center space-x-2"},[t("span",{class:"iconfont icon-cfmpassword text-[#2E2E2E] text-xl"}),t("span",{class:"w-[2px] h-[18px] bg-[#2E2E2E]"})],-1),oe={class:"flex items-center justify-center space-x-3 mb-6 text-[12px]"},re=t("span",{class:"text-[#8F8F8F] z-[999]"},"I already have an account?",-1),ae={class:"text-[#EDEDED] cursor-pointer z-[999]"},le={class:"w-full flex justify-center px-12 mb-2 mt-4"},ne=t("span",{class:"text-black Regular font-semibold text-[14px]"}," Register ",-1),xe=z({__name:"register",setup(ie){var h;const p=w(),b=A(),x=B(),r=v({email:"",password:"",username:"",confirm_Password:"",register_code:(h=x==null?void 0:x.query)==null?void 0:h.code,recaptcha_token:""}),m=w(!1),D=v({email:[{required:!0,message:"Please enter a valide email address",trigger:"blur"}],username:[{required:!0,message:"Please enter a valide username",trigger:"blur"},{min:6,max:20,message:"Length should be 6-20",trigger:"blur"}],password:[{required:!0,message:"Please enter a valide password",trigger:"blur"}],register_code:[{required:!0,message:"Please enter a valide Invitation code",trigger:"blur"}],confirm_Password:[{validator:(o,e,i)=>{e===""?i(new Error("Please input the password again")):e!==r.password?i(new Error("Your password does not match")):i()},trigger:"blur"}],recaptcha_token:[{required:!0,message:"Please verify",trigger:["blur","change"]}]}),c=async o=>{b.cleaUserInfo(),o&&(m.value||await o.validate(async(e,i)=>{if(e)try{m.value=!0;const d={email:r.email.trim(),username:r.username.trim(),password:E.SHA256(r.password).toString(E.enc.Hex).trim(),register_code:r.register_code.trim(),recaptcha_token:r.recaptcha_token.trim()},f=await U({...d});f.code===200?(y.success("success"),M("/login")):(y.error(f.msg),g())}catch{g()}finally{m.value=!1}}))},V=o=>{r.recaptcha_token=o,p.value.clearValidate("recaptcha_token")},g=()=>{r.recaptcha_token="";const o=document.getElementById("register_recaptcha_token");o&&(o.innerHTML="",window.onloadTurnstileCallback())};return(o,e)=>{const i=F,d=R,f=q,k=$,P=I,C=j,T=L;return N(),K("div",J,[a(T,null,{default:n(()=>[t("div",O,[t("div",Y,[t("div",Z,[G,t("div",Q,[a(C,{model:s(r),class:"",ref_key:"ruleFormRef",ref:p,rules:s(D),"label-position":"top","hide-required-asterisk":"",onSubmit:e[10]||(e[10]=S(l=>("throttle"in o?o.throttle:s(u))(()=>{c(s(p))}),["prevent"]))},{default:n(()=>[a(d,{label:"Email",prop:"email"},{default:n(()=>[a(i,{style:{height:"42px"},placeholder:"Enter your email",maxlength:50,modelValue:s(r).email,"onUpdate:modelValue":e[0]||(e[0]=l=>s(r).email=l),onKeyup:e[1]||(e[1]=_(l=>("throttle"in o?o.throttle:s(u))(()=>{c(s(p))}),["enter","native"]))},{prefix:n(()=>[W]),_:1},8,["modelValue"])]),_:1}),a(d,{label:"username",prop:"username"},{default:n(()=>[a(i,{style:{height:"42px"},placeholder:"Enter your username (Length should be 6-20)",maxlength:50,modelValue:s(r).username,"onUpdate:modelValue":e[2]||(e[2]=l=>s(r).username=l),onKeyup:e[3]||(e[3]=_(l=>("throttle"in o?o.throttle:s(u))(()=>{c(s(p))}),["enter","native"]))},{prefix:n(()=>[X]),_:1},8,["modelValue"])]),_:1}),a(d,{label:"Invitation code",prop:"register_code"},{default:n(()=>[a(i,{style:{height:"42px"},placeholder:"Enter your Invitation code",modelValue:s(r).register_code,"onUpdate:modelValue":e[4]||(e[4]=l=>s(r).register_code=l)},{prefix:n(()=>[ee]),_:1},8,["modelValue"])]),_:1}),a(d,{label:"Password",prop:"password"},{default:n(()=>[a(i,{style:{height:"42px"},placeholder:"Enter your password",maxlength:50,type:"password",modelValue:s(r).password,"onUpdate:modelValue":e[5]||(e[5]=l=>s(r).password=l),"show-password":"",onKeyup:e[6]||(e[6]=_(l=>("throttle"in o?o.throttle:s(u))(()=>{c(s(p))}),["enter","native"])),oncopy:"return false"},{prefix:n(()=>[te]),_:1},8,["modelValue"])]),_:1}),a(d,{prop:"confirm_Password"},{default:n(()=>[a(i,{maxlength:50,placeholder:"Confirm password",type:"password",onKeyup:e[7]||(e[7]=_(l=>("throttle"in o?o.throttle:s(u))(()=>{c(s(p))}),["enter","native"])),modelValue:s(r).confirm_Password,"onUpdate:modelValue":e[8]||(e[8]=l=>s(r).confirm_Password=l),"show-password":"",oncopy:"return false"},{prefix:n(()=>[se]),_:1},8,["modelValue"])]),_:1}),a(d,{prop:"recaptcha_token"},{default:n(()=>[a(f,{onToUpdate:V,id:"register_recaptcha_token",class:"mt-2"})]),_:1}),t("div",oe,[re,t("span",ae,[a(k,{to:"/login"},{default:n(()=>[H("Login")]),_:1})])]),t("div",le,[a(P,{class:"w-full z-[999]",style:{height:"44px"},color:"#EDEDED",round:"",loading:s(m),onClick:e[9]||(e[9]=l=>("throttle"in o?o.throttle:s(u))(()=>{c(s(p))}))},{default:n(()=>[ne]),_:1},8,["loading"])])]),_:1},8,["model","rules"])])])])])]),_:1})])}}});export{xe as default};
