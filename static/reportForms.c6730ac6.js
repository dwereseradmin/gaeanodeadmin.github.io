import{e as O,f as q,g as M,d as Z,v as Q,_ as ee}from"./el-loading.86fe6a04.js";import{d as U,P as te,r as z,w as oe,o as Y,n as ae,f as se,h as f,v as B,Q as ne,b as R,U as J,i as k,j as m,l as r,m as o,k as E,V as e,y as $,z as w,a1 as le,a2 as ie,Y as re,C as L}from"./entry.2bdc0a66.js";import{o as ce,p as de,q as pe,r as ue,E as me,m as fe,s as G}from"./el-button.237a1988.js";import{_ as _e}from"./client-only.5eef08b6.js";import"./user.15d140c4.js";const ge={id:"statisticalLine",class:"w-full h-full"},he=U({__name:"StatisticalLine",props:{data:{default:[]}},setup(C){const h=C,{$eChart:c}=ne(),a=te(),i=z(null),b=["T1","T2","T3","T4"];oe(()=>h.data,async()=>{d()});const d=async()=>{a.value&&a.value.dispose();const g=document.getElementById("statisticalLine");if(!g||g.clientWidth===0||g.clientHeight===0)return;a.value=c.init(g);const S=[0,0,0,0],n=[0,0,0,0];h.data.forEach(u=>{const v=u.type-1;v>=0&&v<4&&(S[v]=u.count||0,n[v]=u.usd||0)});const p={legend:{show:!0,itemWidth:12,itemHeight:12,top:"0%",icon:"circle",textStyle:{color:"#ffff",FontSize:16}},tooltip:{trigger:"axis",backgroundColor:"rgba(255,255,255,.05)",borderWidth:"1",borderColor:"rgba(255,255,255,0.25)",extraCssText:"backdrop-filter: blur(5px);",textStyle:{fontSize:18,color:"#ffffff"}},grid:{top:"15%",left:"5%",right:"6%",bottom:"10%"},xAxis:{type:"category",axisLabel:{textStyle:{color:"#2B2B2B",fontSize:16}},axisTick:{show:!1},axisLine:{lineStyle:{color:"#2B2B2B"}},data:b},yAxis:[{type:"value",name:"",position:"left",axisLabel:{textStyle:{color:"#2B2B2B",fontSize:16}},axisTick:{show:!1},axisLine:{show:!1},splitLine:{show:!0,lineStyle:{color:"#2B2B2B"}}},{type:"value",name:"",position:"right",axisLabel:{textStyle:{color:"#2B2B2B",fontSize:16}},axisTick:{show:!1},axisLine:{show:!1},splitLine:{show:!1}}],series:[{name:"Sales Volume",data:S||[0,0,0,0],type:"line",smooth:!0,yAxisIndex:0,lineStyle:{color:"#7030A0",width:3},symbol:"circle",symbolSize:0,itemStyle:{color:"#7030A0",borderColor:"#7030A0",width:2},label:{show:!0,position:"top",distance:10,color:"rgba(255, 255, 255, 1)",fontWeight:300,fontSize:12}},{name:"Sales Amount(USD)",data:n||[0,0,0,0],type:"line",smooth:!0,yAxisIndex:1,lineStyle:{color:"#8489F7",width:3},symbol:"circle",symbolSize:0,itemStyle:{color:"#8489F7",borderColor:"#8489F7",width:2},label:{show:!0,position:"top",distance:10,color:"rgba(255, 255, 255, 1)",fontWeight:300,fontSize:12}}]};a.value.setOption(p,!0)},_=()=>{a.value&&(i.value&&clearTimeout(i.value),i.value=setTimeout(()=>{a.value.resize()},300))};return Y(async()=>{await ae(),setTimeout(d,500),window.addEventListener("resize",_,{passive:!0})}),se(()=>{a.value&&(window.removeEventListener("resize",_),a.value.dispose()),i.value&&clearTimeout(i.value)}),(g,S)=>(f(),B("div",ge))}}),be=C=>(le("data-v-30d6e307"),C=C(),ie(),C),ve={class:"max-h-[90vh] overflow-hidden flex flex-col"},xe={key:0},ye={class:"flex items-center justify-center space-x-1 cursor-pointer hover:text-[#ebebeb]"},we=be(()=>o("span",{class:"iconfont icon-copy"},null,-1)),Ce={class:"w-full h-[60px] flex items-center justify-center px-10 relative mt-4"},Se=U({__name:"CenerateCodeRecord",props:{dialogVisible:{type:Boolean,default:!1}},emits:["update:closeDialog"],setup(C,{emit:h}){const c=z(!1),a=R({page:1,limit:10,active:!1}),i=R({content:[],totalElements:0}),b=()=>{h("update:closeDialog"),i.content=[],i.totalElements=0},d=()=>{_()},_=async()=>{try{c.value=!0;const n=await ce(a.page,a.limit);c.value=!1,n&&n&&n.code===200&&(i.content=n.data.map(p=>({...p,email:p.email||"-",userid:p.userid||"-",username:p.username||"-"})),i.totalElements=n.total)}catch{c.value=!1}finally{c.value=!1}},g=n=>{a.page=n},S=n=>{a.limit=n};return(n,p)=>{const u=O,v=q,t=M,l=Z,T=_e,I=J("copy"),x=Q;return f(),k(T,null,{default:m(()=>[r(l,{title:"",class:"border-box",draggable:"","model-value":n.$props.dialogVisible,"show-close":!1,width:"1100px",style:{background:"rgba(255, 255, 255, 0.08)","backdrop-filter":"blur(15px)",border:"none","border-radius":"10px","padding-bottom":"10px"},"align-center":"",onClose:b,onOpen:d},{default:m(()=>[o("span",{class:"iconfont icon-del text-sm absolute top-5 right-5 text-[#EDEDED] cursor-pointer",onClick:b}),o("div",ve,[E((f(),k(v,{data:e(i).content,style:{width:"100%"},"max-height":"500px",border:""},{empty:m(()=>[e(c)?$("",!0):(f(),B("div",xe,"No records available at the moment"))]),default:m(()=>[r(u,{prop:"code",label:"Code","min-width":"130px",align:"center"},{default:m(y=>{var D,A;return[E((f(),B("div",ye,[o("span",null,w((D=y.row)==null?void 0:D.code),1),we])),[[I,(A=y.row)==null?void 0:A.url]])]}),_:1}),r(u,{prop:"created_at",label:"Generation Time ","min-width":"130px",align:"center","show-overflow-tooltip":""}),r(u,{prop:"email",label:"Email","min-width":"130px",align:"center","show-overflow-tooltip":""}),r(u,{prop:"userid",label:"UserId ","min-width":"130px",align:"center","show-overflow-tooltip":""}),r(u,{prop:"username",label:"UsernName","min-width":"130px",align:"center","show-overflow-tooltip":""})]),_:1},8,["data"])),[[x,e(c)]]),o("div",Ce,[e(i).totalElements!==0?(f(),k(t,{key:0,"current-page":e(a).page,"onUpdate:currentPage":p[0]||(p[0]=y=>e(a).page=y),background:"",size:"small","page-size":e(a).limit,"onUpdate:pageSize":p[1]||(p[1]=y=>e(a).limit=y),"page-sizes":[10,20,50,100],layout:"total, prev, pager, next,sizes",total:e(i).totalElements,onCurrentChange:g,onSizeChange:S},null,8,["current-page","page-size","total"])):$("",!0)])])]),_:1},8,["model-value"])]),_:1})}}});const ze=re(Se,[["__scopeId","data-v-30d6e307"]]),Be={class:"w-full h-full flex flex-col bg-black text-[#EBEBEB] adaptation-padding"},Ee={class:"w-full flex-1 border border-[#3a3a3a] rounded-lg px-10 py-5 relative attribute"},ke={class:"absolute top-2 right-4 cursor-pointer z-50 attribute_box"},Te={class:"flex items-center justify-between"},De=o("span",{class:"text-[20px] font-bold"},"Summary Data",-1),Ae={class:"flex items-center text-[20px] font-bold"},Le=o("span",null,"Total : ",-1),Re={class:"w-full h-fit border border-[#3a3a3a] rounded-lg mt-5 mb-3 relative attribute"},$e={class:"absolute top-2 right-4 cursor-pointer z-50 attribute_box"},Ie={class:"cursor-pointer hover:text-[#EBEBEB]"},Ne={class:"cursor-pointer hover:text-[#EBEBEB]"},Ue={class:"w-full h-[80px] flex items-center justify-center px-10 relative"},Ve={class:"flex items-center space-x-5 absolute top-1/2 -translate-y-1/2 right-0"},Pe={key:0,class:"flex items-center space-x-1 cursor-pointer text-[#ebebebc8] hover:text-[#ebebeb]"},Fe=o("span",{class:"iconfont icon-copy"},null,-1),He=o("span",{class:"text-black text-sm font-medium"},"Generate Code",-1),je=o("span",null,"record",-1),We=o("span",{class:"iconfont icon-gengduo11"},null,-1),Ge=[je,We],Je=U({__name:"reportForms",setup(C){const h=z(),c=z(),a=z(!1),i=z(!1),b=z(!1),d=R({page:1,limit:10,active:!1}),_=R({content:[],totalElements:0}),g=t=>{d.page=t},S=t=>{d.limit=t},n=async()=>{try{const t=await de();h.value=t.data}catch{}},p=async()=>{try{a.value=!0;const t=await pe();c.value=t.data}catch{}finally{a.value=!1}},u=async()=>{try{b.value=!0;const t=await ue(d.page,d.limit);_.content=t.data||[],_.totalElements=t.total||0}catch{}finally{b.value=!1}},v=t=>{const l=t*.05;return Number.isInteger(l)?l.toString():l.toFixed(2)};return Y(()=>{n(),u()}),(t,l)=>{var V,P,F,H,j,W;const T=ee,I=he,x=O,y=q,D=M,A=me,K=ze,N=J("copy"),X=Q;return f(),B("div",Be,[o("div",Ee,[o("div",ke,[r(T,{onToRefresh:l[0]||(l[0]=s=>n())})]),o("div",Te,[De,o("div",Ae,[Le,o("span",null,w(((V=e(h))==null?void 0:V.total)||0),1)])]),r(I,{data:(P=e(h))==null?void 0:P.list},null,8,["data"])]),o("div",Re,[o("div",$e,[r(T,{onToRefresh:l[1]||(l[1]=s=>u())})]),E((f(),k(y,{data:e(_).content,style:{width:"100%","border-radius":"8px"},height:"48vh","header-row-class-name":"custom-header"},{default:m(()=>[r(x,{prop:"date",label:"Time",align:"center","show-overflow-tooltip":""},{default:m(s=>[L(w(("formatDate"in t?t.formatDate:e(fe))(s.row.date)),1)]),_:1}),r(x,{prop:"address",label:"User",align:"center","show-overflow-tooltip":""},{default:m(s=>[E((f(),B("span",Ie,[L(w(("stringStar"in t?t.stringStar:e(G))({value:s.row.address,characters:"********",start:4})),1)])),[[N,s.row.address]])]),_:1}),r(x,{prop:"parent_address",label:"Inviter",align:"center","show-overflow-tooltip":""},{default:m(s=>[E((f(),B("span",Ne,[L(w(("stringStar"in t?t.stringStar:e(G))({value:s.row.parent_address,characters:"********",start:4})),1)])),[[N,s.row.parent_address]])]),_:1}),r(x,{prop:"usd",label:"Amount(USD)",align:"center"}),r(x,{prop:"amount",label:"Rebate Amount(USD)",align:"center"},{default:m(s=>[o("span",null,w(v(s.row.usd)),1)]),_:1}),r(x,{label:"type",align:"center"},{default:m(s=>[L(" T"+w(s.row.type),1)]),_:1})]),_:1},8,["data"])),[[X,e(b)]])]),o("div",Ue,[((F=e(_).content)==null?void 0:F.length)!==0?(f(),k(D,{key:0,"current-page":e(d).page,"onUpdate:currentPage":l[2]||(l[2]=s=>e(d).page=s),background:"",size:"small","page-size":e(d).limit,"onUpdate:pageSize":l[3]||(l[3]=s=>e(d).limit=s),"page-sizes":[10,20,50,100],layout:"total, prev, pager, next,sizes",total:e(_).totalElements,onCurrentChange:g,onSizeChange:S},null,8,["current-page","page-size","total"])):$("",!0),o("div",Ve,[(H=e(c))!=null&&H.code?E((f(),B("div",Pe,[o("span",null,w((j=e(c))==null?void 0:j.code),1),Fe])),[[N,(W=e(c))==null?void 0:W.url]]):$("",!0),r(A,{class:"w-[180px]",color:"#ebebeb",round:"",onClick:p,loading:e(a)},{default:m(()=>[He]),_:1},8,["loading"]),o("div",{class:"flex items-center text-[#ebebebc8] hover:text-[#ebebeb] cursor-pointer",onClick:l[4]||(l[4]=s=>i.value=!0)},Ge)])]),r(K,{"dialog-visible":e(i),"onUpdate:closeDialog":l[5]||(l[5]=s=>i.value=!1)},null,8,["dialog-visible"])])}}});export{Je as default};
