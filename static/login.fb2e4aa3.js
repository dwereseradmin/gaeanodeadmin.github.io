import{_ as V,a as T,E as F}from"./el-button.f96464de.js";import{E as C,C as x,a as j,_ as L,b as P}from"./index.70366381.js";import{d as U,r as g,b as E,v as z,m as e,l as r,j as n,V as s,s as B,h as S,A as v,C as q,a0 as I,Z as N}from"./entry.9187c7f5.js";import{u as R}from"./user.76fb50cc.js";import{t as m}from"./throttle.31f373af.js";const $={class:"w-full h-screen flex items-center justify-center bg-black"},H={class:"flex-1 flex items-center justify-center overflow-auto relative z-[9999]"},K={class:"p-8 h-full rounded-lg border"},M={class:"w-full h-full flex flex-col items-center justify-center Regular"},A=e("div",{class:"w-full flex flex-col py-2 z-[999]"},[e("div",{class:"text-[48px] font-bold text-[#EDEDED] uppercase"},"Let's get start "),e("div",{class:"text-lg font-light text-[#EDEDED] uppercase"},"Log in your account")],-1),J={class:"w-full mt-4"},Z=e("div",{class:"flex items-center space-x-2"},[e("span",{class:"iconfont icon-email text-[#EDEDED] text-xl"}),e("span",{class:"w-[2px] h-[18px] bg-[#2E2E2E]"})],-1),G=e("div",{class:"flex items-center space-x-2"},[e("span",{class:"iconfont icon-cfmpassword text-[#EDEDED] text-xl"}),e("span",{class:"w-[2px] h-[18px] bg-[#2E2E2E]"})],-1),O={class:"flex items-center justify-center space-x-3 mb-6 text-[12px]"},Q=e("span",{class:"text-[#8F8F8F] z-[999]"},"Don't have an account?",-1),W={class:"text-[#EDEDED] cursor-pointer z-[999]"},X={class:"w-full flex justify-center px-12 mb-2 mt-4"},Y=e("span",{class:"text-black Regular font-semibold text-[14px] uppercase"}," Login",-1),ne=U({__name:"login",setup(ee){const i=g(),_=R(),a=E({email:"",password:"",recaptcha_token:""}),d=g(!1),w=E({email:[{required:!0,message:"Please enter a valide email address",trigger:"blur"}],password:[{required:!0,message:"Please enter a valide password",trigger:"blur"}],recaptcha_token:[{required:!0,message:"Please verify",trigger:["blur","change"]}]}),u=async t=>{_.cleaUserInfo(),t&&(d.value||await t.validate(async(o,f)=>{if(o)try{d.value=!0;const c={username:a.email.trim(),password:x.SHA256(a.password).toString(x.enc.Hex).trim(),recaptcha_token:a.recaptcha_token.trim()},p=await V({...c});p.code===200?(_.setToken(p.data.token),I("/home")):(N.error(p.msg),h())}catch{h()}finally{d.value=!1}}))},y=t=>{a.recaptcha_token=t,i.value.clearValidate("recaptcha_token")},h=()=>{a.recaptcha_token="";const t=document.getElementById("login_recaptcha_token");t&&(t.innerHTML="",window.onloadTurnstileCallback())};return(t,o)=>{const f=T,c=j,p=L,b=P,k=F,D=C;return S(),z("div",$,[e("div",H,[e("div",K,[e("div",M,[A,e("div",J,[r(D,{model:s(a),class:"",ref_key:"ruleFormRef",ref:i,rules:s(w),"label-position":"top","hide-required-asterisk":"",onSubmit:o[5]||(o[5]=B(l=>("throttle"in t?t.throttle:s(m))(()=>{u(s(i))}),["prevent"]))},{default:n(()=>[r(c,{label:"Email or username",prop:"email"},{default:n(()=>[r(f,{style:{height:"42px"},placeholder:"Enter your email or username",maxlength:50,modelValue:s(a).email,"onUpdate:modelValue":o[0]||(o[0]=l=>s(a).email=l),onKeyup:o[1]||(o[1]=v(l=>("throttle"in t?t.throttle:s(m))(()=>{u(s(i))}),["enter","native"]))},{prefix:n(()=>[Z]),_:1},8,["modelValue"])]),_:1}),r(c,{label:"Password",prop:"password"},{default:n(()=>[r(f,{style:{height:"42px"},placeholder:"Enter your password",maxlength:50,type:"password",modelValue:s(a).password,"onUpdate:modelValue":o[2]||(o[2]=l=>s(a).password=l),"show-password":"",onKeyup:o[3]||(o[3]=v(l=>("throttle"in t?t.throttle:s(m))(()=>{u(s(i))}),["enter","native"])),oncopy:"return false"},{prefix:n(()=>[G]),_:1},8,["modelValue"])]),_:1}),r(c,{prop:"recaptcha_token"},{default:n(()=>[r(p,{onToUpdate:y,id:"login_recaptcha_token",class:"mt-2"})]),_:1}),e("div",O,[Q,e("span",W,[r(b,{to:"/register"},{default:n(()=>[q("Sign up")]),_:1})])]),e("div",X,[r(k,{class:"w-full z-[999]",style:{height:"44px"},color:"#EDEDED",round:"",loading:s(d),onClick:o[4]||(o[4]=l=>("throttle"in t?t.throttle:s(m))(()=>{u(s(i))}))},{default:n(()=>[Y]),_:1},8,["loading"])])]),_:1},8,["model","rules"])])])])])])}}});export{ne as default};
