import{e as O,f as q,g as M,d as X,v as Q,_ as Z}from"./el-loading.d79852cf.js";import{d as U,P as ee,r as S,w as te,o as Y,n as oe,f as ae,h as u,v as z,Q as se,b as L,U as J,i as B,j as _,l as i,m as t,k as E,V as e,y as R,z as C,a1 as ne,a2 as le,Y as ie,C as I}from"./entry.a9e81fe4.js";import{n as re,o as ce,p as de,q as pe,E as ue,s as G,r as me}from"./el-button.743ed1c8.js";import{_ as _e}from"./client-only.9001c63d.js";import"./user.ba6dc408.js";const fe={id:"statisticalLine",class:"w-full h-full"},ge=U({__name:"StatisticalLine",props:{data:{default:[]}},setup(x){const h=x,{$eChart:c}=se(),a=ee(),n=S(null),b=["T1","T2","T3","T4"];te(()=>h.data,async()=>{d()});const d=async()=>{a.value&&a.value.dispose();const g=document.getElementById("statisticalLine");if(!g||g.clientWidth===0||g.clientHeight===0)return;a.value=c.init(g);const y=[],s=[];h.data.map(m=>{y.push(m.count),s.push(m.amount)});const p={legend:{show:!0,itemWidth:12,itemHeight:12,top:"0%",icon:"circle",textStyle:{color:"#ffff",FontSize:16}},tooltip:{trigger:"axis",backgroundColor:"rgba(255,255,255,.05)",borderWidth:"1",borderColor:"rgba(255,255,255,0.25)",extraCssText:"backdrop-filter: blur(5px);",textStyle:{fontSize:18,color:"#ffffff"}},grid:{top:"15%",left:"3%",right:0,bottom:"10%"},xAxis:{type:"category",axisLabel:{textStyle:{color:"#2B2B2B",fontSize:16}},axisTick:{show:!1},axisLine:{lineStyle:{color:"#2B2B2B"}},data:b},yAxis:{type:"value",axisLabel:{textStyle:{color:"#2B2B2B",fontSize:16}},axisTick:{show:!1},axisLine:{show:!1},splitLine:{show:!0,lineStyle:{color:"#2B2B2B"}}},series:[{name:"Sales Volume",data:y||[0,0,0,0],type:"line",smooth:!0,lineStyle:{color:"#7030A0",width:3},symbol:"circle",symbolSize:0,itemStyle:{color:"#7030A0",borderColor:"#7030A0",width:2},label:{show:!0,position:"top",distance:10,color:"rgba(255, 255, 255, 1)",fontWeight:300,fontSize:12}},{name:"Sales Amount",data:s||[0,0,0,0],type:"line",smooth:!0,lineStyle:{color:"#8489F7",width:3},symbol:"circle",symbolSize:0,itemStyle:{color:"#8489F7",borderColor:"#8489F7",width:2},label:{show:!0,position:"top",distance:10,color:"rgba(255, 255, 255, 1)",fontWeight:300,fontSize:12}}]};a.value.setOption(p,!0)},f=()=>{a.value&&(n.value&&clearTimeout(n.value),n.value=setTimeout(()=>{a.value.resize()},300))};return Y(async()=>{await oe(),setTimeout(d,500),window.addEventListener("resize",f,{passive:!0})}),ae(()=>{a.value&&(window.removeEventListener("resize",f),a.value.dispose()),n.value&&clearTimeout(n.value)}),(g,y)=>(u(),z("div",fe))}}),he=x=>(ne("data-v-30d6e307"),x=x(),le(),x),be={class:"max-h-[90vh] overflow-hidden flex flex-col"},ve={key:0},xe={class:"flex items-center justify-center space-x-1 cursor-pointer hover:text-[#ebebeb]"},ye=he(()=>t("span",{class:"iconfont icon-copy"},null,-1)),we={class:"w-full h-[60px] flex items-center justify-center px-10 relative mt-4"},Ce=U({__name:"CenerateCodeRecord",props:{dialogVisible:{type:Boolean,default:!1}},emits:["update:closeDialog"],setup(x,{emit:h}){const c=S(!1),a=L({page:1,limit:10,active:!1}),n=L({content:[],totalElements:0}),b=()=>{h("update:closeDialog"),n.content=[],n.totalElements=0},d=()=>{f()},f=async()=>{try{c.value=!0;const s=await re(a.page,a.limit);c.value=!1,s&&s&&s.code===200&&(n.content=s.data.map(p=>({...p,email:p.email||"-",userid:p.userid||"-",username:p.username||"-"})),n.totalElements=s.total)}catch{c.value=!1}finally{c.value=!1}},g=s=>{a.page=s},y=s=>{a.limit=s};return(s,p)=>{const m=O,o=q,r=M,k=X,$=_e,w=J("copy"),D=Q;return u(),B($,null,{default:_(()=>[i(k,{title:"",class:"border-box",draggable:"","model-value":s.$props.dialogVisible,"show-close":!1,width:"1100px",style:{background:"rgba(255, 255, 255, 0.08)","backdrop-filter":"blur(15px)",border:"none","border-radius":"10px","padding-bottom":"10px"},"align-center":"",onClose:b,onOpen:d},{default:_(()=>[t("span",{class:"iconfont icon-del text-sm absolute top-5 right-5 text-[#EDEDED] cursor-pointer",onClick:b}),t("div",be,[E((u(),B(o,{data:e(n).content,style:{width:"100%"},"max-height":"500px",border:""},{empty:_(()=>[e(c)?R("",!0):(u(),z("div",ve,"No records available at the moment"))]),default:_(()=>[i(m,{prop:"code",label:"Code","min-width":"130px",align:"center"},{default:_(v=>{var T,A;return[E((u(),z("div",xe,[t("span",null,C((T=v.row)==null?void 0:T.code),1),ye])),[[w,(A=v.row)==null?void 0:A.url]])]}),_:1}),i(m,{prop:"created_at",label:"Generation Time ","min-width":"130px",align:"center","show-overflow-tooltip":""}),i(m,{prop:"email",label:"Email","min-width":"130px",align:"center","show-overflow-tooltip":""}),i(m,{prop:"userid",label:"UserId ","min-width":"130px",align:"center","show-overflow-tooltip":""}),i(m,{prop:"username",label:"UsernName","min-width":"130px",align:"center","show-overflow-tooltip":""})]),_:1},8,["data"])),[[D,e(c)]]),t("div",we,[e(n).totalElements!==0?(u(),B(r,{key:0,"current-page":e(a).page,"onUpdate:currentPage":p[0]||(p[0]=v=>e(a).page=v),background:"",size:"small","page-size":e(a).limit,"onUpdate:pageSize":p[1]||(p[1]=v=>e(a).limit=v),"page-sizes":[10,20,50,100],layout:"total, prev, pager, next,sizes",total:e(n).totalElements,onCurrentChange:g,onSizeChange:y},null,8,["current-page","page-size","total"])):R("",!0)])])]),_:1},8,["model-value"])]),_:1})}}});const Se=ie(Ce,[["__scopeId","data-v-30d6e307"]]),ze={class:"w-full h-full flex flex-col bg-black text-[#EBEBEB] adaptation-padding"},Ee={class:"w-full flex-1 border border-[#3a3a3a] rounded-lg px-10 py-5 relative attribute"},Be={class:"absolute top-2 right-4 cursor-pointer z-50 attribute_box"},ke={class:"flex items-center justify-between"},Te=t("span",{class:"text-[20px] font-bold"},"Summary Data",-1),Ae={class:"flex items-center text-[20px] font-bold"},Le=t("span",null,"Total : ",-1),Re={class:"w-full h-fit border border-[#3a3a3a] rounded-lg mt-5 mb-3 relative attribute"},$e={class:"absolute top-2 right-4 cursor-pointer z-50 attribute_box"},De={class:"cursor-pointer hover:text-[#EBEBEB]"},Ne={class:"cursor-pointer hover:text-[#EBEBEB]"},Ie={class:"w-full h-[80px] flex items-center justify-center px-10 relative"},Ue={class:"flex items-center space-x-5 absolute top-1/2 -translate-y-1/2 right-0"},Ve={key:0,class:"flex items-center space-x-1 cursor-pointer text-[#ebebebc8] hover:text-[#ebebeb]"},Pe=t("span",{class:"iconfont icon-copy"},null,-1),He=t("span",{class:"text-black text-sm font-medium"},"Generate Code",-1),je=t("span",null,"record",-1),Fe=t("span",{class:"iconfont icon-gengduo11"},null,-1),We=[je,Fe],Ye=U({__name:"reportForms",setup(x){const h=S(),c=S(),a=S(!1),n=S(!1),b=S(!1),d=L({page:1,limit:10,active:!1}),f=L({content:[],totalElements:0}),g=o=>{d.page=o},y=o=>{d.limit=o},s=async()=>{try{const o=await ce();h.value=o.data}catch{}},p=async()=>{try{a.value=!0;const o=await de();c.value=o.data}catch{}finally{a.value=!1}},m=async()=>{try{b.value=!0;const o=await pe(d.page,d.limit);f.content=o.data||[],f.totalElements=o.total||0}catch{}finally{b.value=!1}};return Y(()=>{s(),m()}),(o,r)=>{var V,P,H,j,F,W;const k=Z,$=ge,w=O,D=q,v=M,T=ue,A=Se,N=J("copy"),K=Q;return u(),z("div",ze,[t("div",Ee,[t("div",Be,[i(k,{onToRefresh:r[0]||(r[0]=l=>s())})]),t("div",ke,[Te,t("div",Ae,[Le,t("span",null,C(((V=e(h))==null?void 0:V.total)||0),1)])]),i($,{data:(P=e(h))==null?void 0:P.list},null,8,["data"])]),t("div",Re,[t("div",$e,[i(k,{onToRefresh:r[1]||(r[1]=l=>m())})]),E((u(),B(D,{data:e(f).content,style:{width:"100%","border-radius":"8px"},height:"48vh","header-row-class-name":"custom-header"},{default:_(()=>[i(w,{prop:"address",label:"User",align:"center","show-overflow-tooltip":""},{default:_(l=>[E((u(),z("span",De,[I(C(("stringStar"in o?o.stringStar:e(G))({value:l.row.address,characters:"********",start:4})),1)])),[[N,l.row.address]])]),_:1}),i(w,{prop:"parent_address",label:"Inviter",align:"center","show-overflow-tooltip":""},{default:_(l=>[E((u(),z("span",Ne,[I(C(("stringStar"in o?o.stringStar:e(G))({value:l.row.parent_address,characters:"********",start:4})),1)])),[[N,l.row.parent_address]])]),_:1}),i(w,{prop:"amount",label:"Amount",align:"center"}),i(w,{prop:"amount",label:"Rebate Amount",align:"center"},{default:_(l=>[t("span",null,C(("formatCommission"in o?o.formatCommission:e(me))(l.row.amount)),1)]),_:1}),i(w,{label:"type",align:"center"},{default:_(l=>[I(" T"+C(l.row.type),1)]),_:1})]),_:1},8,["data"])),[[K,e(b)]])]),t("div",Ie,[((H=e(f).content)==null?void 0:H.length)!==0?(u(),B(v,{key:0,"current-page":e(d).page,"onUpdate:currentPage":r[2]||(r[2]=l=>e(d).page=l),background:"",size:"small","page-size":e(d).limit,"onUpdate:pageSize":r[3]||(r[3]=l=>e(d).limit=l),"page-sizes":[10,20,50,100],layout:"total, prev, pager, next,sizes",total:e(f).totalElements,onCurrentChange:g,onSizeChange:y},null,8,["current-page","page-size","total"])):R("",!0),t("div",Ue,[(j=e(c))!=null&&j.code?E((u(),z("div",Ve,[t("span",null,C((F=e(c))==null?void 0:F.code),1),Pe])),[[N,(W=e(c))==null?void 0:W.url]]):R("",!0),i(T,{class:"w-[180px]",color:"#ebebeb",round:"",onClick:p,loading:e(a)},{default:_(()=>[He]),_:1},8,["loading"]),t("div",{class:"flex items-center text-[#ebebebc8] hover:text-[#ebebeb] cursor-pointer",onClick:r[4]||(r[4]=l=>n.value=!0)},We)])]),i(A,{"dialog-visible":e(n),"onUpdate:closeDialog":r[5]||(r[5]=l=>n.value=!1)},null,8,["dialog-visible"])])}}});export{Ye as default};
